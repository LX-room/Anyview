webpackJsonp([1],{"+RDi":function(e,t){},BNGd:function(e,t,s){e.exports=s.p+"static/img/touxiang.fba6ac6.jpg"},F1jC:function(e,t){},NHnr:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={};s.d(n,"sendSock",function(){return j}),s.d(n,"websocketclose",function(){return U});var i=s("7+uW"),o=s("zL8q"),a=s.n(o),r=(s("tvR6"),{render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view",{attrs:{id:"router"}})],1)},staticRenderFns:[]});var c=s("VU/8")({},r,!1,function(e){s("ezYk")},null,null).exports,l=s("/ocq");class u{constructor(e,t){this.x=e,this.y=t,this.r=10*Math.random(),this._mx=Math.random(),this._my=Math.random()}drawCircle(e){e.beginPath(),e.arc(this.x,this.y,this.r,0,360),e.closePath(),e.fillStyle="rgba(204, 204, 204, 0.3)",e.fill()}drawLine(e,t){let s=this.x-t.x,n=this.y-t.y;Math.sqrt(s*s+n*n)<150&&(e.beginPath(),e.moveTo(this.x,this.y),e.lineTo(t.x,t.y),e.closePath(),e.strokeStyle="rgba(204, 204, 204, 0.3)",e.stroke())}move(e,t){this._mx=this.x<e&&this.x>0?this._mx:-this._mx,this._my=this.y<t&&this.y>0?this._my:-this._my,this.x+=this._mx/2,this.y+=this._my/2}}let h,d,m,p,f,v;window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;let g=function(){d.clearRect(0,0,m,p);for(let e=0;e<f.length;e++){f[e].move(m,p),f[e].drawCircle(d);for(let t=e+1;t<f.length;t++)f[e].drawLine(d,f[t])}if(v.x){v.drawCircle(d);for(var e=1;e<f.length;e++)v.drawLine(d,f[e])}requestAnimationFrame(g)};var b=function(e){window.onmousemove=function(e){e=e||window.event,v.x=e.clientX,v.y=e.clientY},window.onmouseout=function(){v.x=null,v.y=null},h=document.getElementById("canvas"),d=h.getContext("2d"),m=h.width=h.offsetWidth,p=h.height=h.offsetHeight,f=[],v=new class extends u{constructor(e,t){super(e,t)}drawCircle(e){e.beginPath(),this.r=8,e.arc(this.x,this.y,this.r,0,360),e.closePath(),e.fillStyle="rgba(255, 77, 54, 0.6)",e.fill()}}(0,0);for(var t=0;t<e;t++)f.push(new u(Math.random()*m,Math.random()*p));g()},_={data:function(){return{error:!0,errDesc:"",user:{roleId:3,username:"",password:"",schoolId:"",switch:!0}}},mounted:function(){b(60),this.$store.dispatch("sendSchoolListReq")},methods:{checkInfo:function(){for(var e in this.user)if(""===this.user[e]){switch(e){case"username":this.errDesc="账号输入为空";break;case"password":this.errDesc="密码输入为空";break;case"schoolId":this.errDesc="未选择学校"}return this.error=!1,!1}return!0},submit:function(){var e=this;this.checkInfo()&&this.$store.dispatch("sendLoginReq",this.user),setTimeout(function(){if(!localStorage.getItem("isLogin"))return e.error=!1,void(e.errDesc="信息输入错误");e.$router.push({name:"work"})},500)}}},w={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("canvas",{attrs:{id:"canvas"}}),e._v(" "),s("el-form",{ref:"form",attrs:{"label-width":"80px"}},[s("h1",{staticStyle:{color:"#409eff","text-align":"center"}},[e._v("Anyview")]),e._v(" "),s("el-form-item",{staticClass:"role"},[s("el-radio-group",{model:{value:e.user.roleId,callback:function(t){e.$set(e.user,"roleId",t)},expression:"user.roleId"}},[s("el-radio-button",{attrs:{label:"1"}},[e._v("管理员")]),e._v(" "),s("el-radio-button",{attrs:{label:"2"}},[e._v("教师")]),e._v(" "),s("el-radio-button",{attrs:{label:"3"}},[e._v("学生")])],1)],1),e._v(" "),s("el-form-item",{attrs:{label:"账号"}},[s("el-input",{attrs:{placeholder:"请输入账号"},model:{value:e.user.username,callback:function(t){e.$set(e.user,"username",t)},expression:"user.username"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"密码"}},[s("el-input",{attrs:{placeholder:"请输入密码","show-password":""},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}})],1),e._v(" "),s("el-form-item",[s("el-select",{attrs:{placeholder:"请选择您的学校"},model:{value:e.user.schoolId,callback:function(t){e.$set(e.user,"schoolId",t)},expression:"user.schoolId"}},e._l(this.$store.state.schoolList,function(e,t){return s("el-option",{key:t,attrs:{value:e.id,label:e.schoolName}})}),1),e._v(" "),s("el-checkbox",{model:{value:e.user.switch,callback:function(t){e.$set(e.user,"switch",t)},expression:"user.switch"}},[e._v("记住密码")])],1),e._v(" "),s("transition",{attrs:{name:"login"}},[e.error?e._e():s("el-alert",{staticStyle:{"margin-bottom":"22px"},attrs:{title:"登录失败",type:"error",description:e.errDesc,"show-icon":""}})],1),e._v(" "),s("el-form-item",{staticClass:"butt"},[s("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("登录")]),e._v(" "),s("el-button",{attrs:{type:"danger"}},[e._v("忘记密码")])],1)],1)],1)},staticRenderFns:[]};var y=s("VU/8")(_,w,!1,function(e){s("Qorl")},null,null).exports,$={props:{courseName:String,cardType:String,questionId:{type:Number,default:0},questionCount:{type:Number,default:200},totalNum:{type:Number,default:0}},methods:{clickCard:function(){this.$emit("goTo")}}},C={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"course-card",on:{click:e.clickCard}},[s("h2",[e._v(e._s(e.courseName))]),e._v(" "),s("el-progress",{attrs:{type:"circle",percentage:e.questionId/e.questionCount*100,width:100}}),e._v(" "),s("div",{staticClass:"work-info"},[s("h3",[e._v(e._s(e.totalNum))]),e._v(" "),s("h3",[e._v(e._s(e.questionId))])]),e._v(" "),s("div",{staticClass:"work-text"},[s("span",[e._v("总章节")]),e._v(" "),s("span",[e._v(e._s(e.cardType))])])],1)},staticRenderFns:[]};var q={created:function(){this.$store.dispatch("sendQuestionListReq"),this.user=JSON.parse(window.localStorage.getItem("user")),this.$message({showClose:!0,message:"欢迎您,"+this.user.name,type:"success"})},mounted:function(){b(30)},data:function(){return{user:{}}},methods:{clickItem:function(e){switch(e){case"personal_center":this.goTo("personalCenter");break;case"logout":this.logout()}},logout:function(){this.socket.sendSock({type:5,content:this.user},this.getLogoutRes)},getLogoutRes:function(e){e.content.includes("退出")&&(localStorage.clear(),this.goTo("login"))},goTo:function(e){this.$router.push({name:e})}},components:{course:s("VU/8")($,C,!1,function(e){s("zGnw")},null,null).exports}},S={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("canvas",{attrs:{id:"canvas"}}),e._v(" "),s("div",{staticClass:"container"},[s("div",{staticClass:"header w"},[e._m(0),e._v(" "),s("div",{staticClass:"menu-bar"},[s("el-input",{attrs:{placeholder:"请输入内容","prefix-icon":"el-icon-search",size:"small"}})],1),e._v(" "),s("div",{staticClass:"per-info"},[s("span",{staticStyle:{"margin-right":"10px"}},[e._v(e._s(e.user.name))]),e._v(" "),s("el-dropdown",{attrs:{trigger:"click"},on:{command:e.clickItem}},[s("span",{staticClass:"user-icon"}),e._v(" "),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[s("el-dropdown-item",{attrs:{command:"personal_center"}},[s("i",{staticClass:"el-icon-menu"}),e._v("个人中心")]),e._v(" "),s("el-dropdown-item",[s("i",{staticClass:"el-icon-bell"}),e._v("我的消息")]),e._v(" "),s("el-dropdown-item",[s("i",{staticClass:"el-icon-star-off"}),e._v("我的收藏")]),e._v(" "),s("el-dropdown-item",[s("i",{staticClass:"el-icon-tickets"}),e._v("我的笔记")]),e._v(" "),s("el-dropdown-item",[s("i",{staticClass:"el-icon-time"}),e._v("我的进度")]),e._v(" "),s("el-dropdown-item",{attrs:{command:"logout"}},[s("i",{staticClass:"el-icon-warning"}),e._v("退出账号")])],1)],1)],1)]),e._v(" "),s("div",{staticClass:"content w"},[s("h1",{staticStyle:{"margin-top":"30px"}},[e._v("继续题目：")]),e._v(" "),s("div",{staticClass:"latest-course"},[s("course",{attrs:{courseName:this.$store.state.continue_tableName,cardType:"上次做到",totalNum:this.$store.state.totalNum,questionId:40,questionCount:200},on:{goTo:function(t){return e.goTo("Coding")}}})],1),e._v(" "),s("h1",[e._v("其他课程：")]),e._v(" "),s("div",{staticClass:"all-course"},[s("course",{attrs:{courseName:"C语言程序设计",cardType:"题目总数"},on:{goTo:e.goTo}}),e._v(" "),s("course",{attrs:{courseName:"Java语言程序设计",cardType:"题目总数"}}),e._v(" "),s("course",{attrs:{courseName:"离散数学实践",cardType:"题目总数"}}),e._v(" "),s("course",{attrs:{courseName:"C#语言程序设计",cardType:"题目总数"}}),e._v(" "),s("course",{attrs:{courseName:"数据结构",cardType:"题目总数"}}),e._v(" "),s("course",{attrs:{courseName:"操作系统",cardType:"题目总数"}})],1)]),e._v(" "),e._m(1)])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"logo"},[t("h1",{staticStyle:{color:"#409eff"}},[this._v("Anyview")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"footer"},[t("span",[this._v("© 广东工业大学Anyview工作室")]),this._v(" "),t("span",[this._v("地址：大学城校区工学一号馆620")]),this._v(" "),t("span",[this._v("问题反馈：1084235321@qq.com")])])}]};var k=s("VU/8")(q,S,!1,function(e){s("+RDi")},null,null).exports,x=s("BO1k"),N=s.n(x),T=s("EZGA"),Q=s.n(T),L=(s("Z6VL"),s("M97j")),F=s.n(L),R=(s("2CdK"),s("LF/+"),s("Uq90"),s("BEqR"),{mounted:function(){this.aceEditor=F.a.edit(this.$refs.ace,{autoScrollEditorIntoView:!1,fontSize:14,theme:this.themePath,mode:this.modePath,tabSize:4}),this.aceEditor.setOptions({enableBasicAutocompletion:!0,enableSnippets:!0,enableLiveAutocompletion:!0}),this.aceEditor.on("change",this.change),this.lineHeight=this.aceEditor.renderer.lineHeight},data:function(){return{aceEditor:null,themePath:"ace/theme/katzenmilch",modePath:"ace/mode/c_cpp",lineHeight:""}},props:{test:{type:String,default:"#include 'stdio.h' "}},methods:{setBP:function(){this.$emit("createBP")},change:function(){this.$emit("input",this.aceEditor.getValue())}}}),I={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{ref:"ace",staticClass:"ace-container",on:{click:this.setBP}})},staticRenderFns:[]};var V=s("VU/8")(R,I,!1,function(e){s("sSya")},null,null).exports,A=(document.querySelector(".ace_layer"),{created:function(){var e=this;if(this.user=JSON.parse(window.localStorage.getItem("user")),this.$route.params.name){var t=this.$store.state.questionList.flat().find(function(t){return t.name==e.$route.params.name});this.$store.dispatch("sendQuestionContentReq",{id:t.eid,name:this.$route.params.name,pid:t.pid})}else this.$store.dispatch("sendQuestionListReq");this.$route.params.code&&(this.code=this.$route.params.code),this.initHeight=.15*document.documentElement.clientHeight+"px"},mounted:function(){var e=this;window.addEventListener("beforeunload",function(t){return e.beforeunloadFn(t)})},destroyed:function(){var e=this;window.removeEventListener("beforeunload",function(t){return e.beforeunloadFn(t)})},data:function(){return{aceModes:[],aceTheme:"katzenmilch",aceFont:"15px",_thisMode:"",horFunList:[{name:"compile",class:"iconfont icon-bianyi",title:"编译"},{name:"runGroup",class:"iconfont icon-chengzuyunxing",title:"运行"},{name:"startDebug",class:"iconfont icon-tiaoshi",title:"调试"},{name:"runSiginal",class:"iconfont icon-danzuyunxing",title:"单组运行"},{name:"fillScreen",class:"iconfont icon-fangda",title:"全屏"},{name:"saveAnswer",class:"iconfont icon-baocun",title:"保存"},{name:"more",class:"iconfont icon-gengduo",title:"更多"}],verFunList:[{name:"quitDebug",class:"iconfont icon-tingzhi banClick",title:"停止调试"},{name:"continueDebug",class:"iconfont icon-jixu banClick",title:"继续调试"},{name:"stepOver",class:"iconfont icon-xiayihang banClick",title:"下一步(不进入函数)"},{name:"stepInto",class:"iconfont icon-xiayibu banClick",title:"下一步(进入函数)"},{name:"repeatDebug",class:"iconfont icon-chongfujianli banClick",title:"重复调试"}],showSetMenu:!1,questType:0,pan_1:20,pan_2:70,pan_3:10,pan_4:0,pan_2_1:85,pan_2_2:15,initHeight:1,isFillScreen:!1,isSuccess:!1,isFail:!1,isQuestListOpen:!1,showVerList:!1,bpRow:"",activeIcon:{compile:1,run:1,debug:1,nextStep:1,more:1},studentAnswer:"",editableTabsValue:"1",editableTabs:[],tabIndex:0,user:{},checked:!0,lineNum:1,result:[],variate:[],renderVariate:[],defaultProps:{children:"children",label:"label"},compileFlag:!1,debugFlag:!1,runSig:!1}},methods:{beforeunloadFn:function(e){(this.runSig||this.debugFlag)&&this.common("quitDebug"),this.common("saveAnswer")},goTo:function(){this.$router.push({name:"personalCenter"})},hidSetMenu:function(){this.showSetMenu=!1},setModes:function(e){if("theme"==this._thisMode){this.aceTheme=e.target.innerText;for(var t=0;t<this.$refs.ace.length;t++)this.$refs.ace[t].aceEditor.setTheme("ace/theme/"+e.target.innerText)}else{this.aceFont=e.target.innerText;for(var s=0;s<this.$refs.ace.length;s++)this.$refs.ace[s].aceEditor.setFontSize(e.target.innerText)}},setEditor:function(e){switch(e){case"主题":this._thisMode="theme",this.modifyModes("theme");break;case"字体":this._thisMode="font",this.modifyModes("font")}},modifyModes:function(e){var t=this;this.showSetMenu=!0,this.aceModes="theme"==e?[{name:"katzenmilch",path:"ace/theme/katzenmilch"},{name:"chrome",path:"ace/theme/chrome"},{name:"github",path:"ace/theme/github"},{name:"eclipse",path:"ace/theme/eclipse"},{name:"monokai",path:"ace/theme/monokai"},{name:"sqlserver",path:"ace/theme/sqlserver"},{name:"twilight",path:"ace/theme/twilight"}]:[{name:"12px"},{name:"13px"},{name:"14px"},{name:"15px"},{name:"16px"},{name:"17px"},{name:"18px"},{name:"19px"},{name:"20px"}],this.$nextTick(function(){t.$refs.setMenu.style.top=t.$refs.elDropdown.$el.offsetTop+"px",t.$refs.setMenu.style.left=t.$refs.elDropdown.$el.offsetLeft+t.$refs.elDropdown.$el.offsetWidth+"px"})},modifyDiv:function(e){this.$refs.resShow.style.height=e[1].width*document.documentElement.clientHeight/100+"px"},fixButton:function(e){this.$refs.topMenu.style.top=e.target.scrollTop+"px",this.$refs.bottomMenu.style.bottom=-e.target.scrollTop+"px"},renderVar:function(e){Array.isArray(e)||(e=[e]);var t=[],s=!0,n=!1,i=void 0;try{for(var o,a=N()(e);!(s=(o=a.next()).done);s=!0){var r=o.value,c={};c.label=r.name,c.children=new Array({},{},{}),c.children[0].label="type: "+r.type,c.children[1].label="name: "+r.name,Array.isArray(r.value)?(c.children[2].label="value: "+r.value[0],c.children[2].children=this.renderVar(r.value[1])):c.children[2].label="value: "+r.value,t.push(c)}}catch(e){n=!0,i=e}finally{try{!s&&a.return&&a.return()}finally{if(n)throw i}}return t},createBP:function(){if("CANVAS"===event.target.tagName&&(this.bpRow=this.bpRow.replace(event.target.parentNode.innerText,""),event.target.parentNode.removeChild(event.target)),event.target.classList.contains("ace_gutter-cell")){this.bpRow+=","+event.target.innerText;var e=document.createElement("canvas");e.width=49,e.height=this.$refs.ace[0].lineHeight,event.target.appendChild(e);var t=e.getContext("2d");t.fillStyle="#FF0000",t.beginPath(),t.arc(25,8,5,0,2*Math.PI,!0),t.closePath(),t.fill()}},mouseEvent:function(e){if("I"===event.srcElement.tagName)switch(event.srcElement.title){case"编译":this.activeIcon.compile="down"===e?.5:1;break;case"运行":this.activeIcon.run="down"===e?.5:1;break;case"调试":this.activeIcon.debug="down"===e?.5:1;break;case"下一步":this.activeIcon.nextStep="down"===e?.5:1;break;case"更多":this.activeIcon.more="down"===e?.5:1}},showQuestList:function(){this.isQuestListOpen=!0,this.$refs.questList.style.left="0"},hideQuestList:function(){this.isQuestListOpen=!1,this.$refs.questList.style.left="-20%"},addTab:function(e){var t=this;if(this.editableTabs.every(function(t){return t.title!==e})){var s=++this.tabIndex+"",n={title:e,name:s};this.editableTabsValue=s,this.editableTabs.push(n),setTimeout(function(){t.$refs.ace[t.editableTabsValue-1].aceEditor.setTheme("ace/theme/"+t.aceTheme),t.$refs.ace[t.editableTabsValue-1].aceEditor.setFontSize("ace/theme/"+t.aceFont)})}else for(var i=0;i<this.editableTabs.length;i++)if(this.editableTabs[i].title==e){this.editableTabsValue=this.editableTabs[i].name;break}},removeTab:function(e){var t=this;this.common("saveAnswer");var s=this.editableTabsValue,n=this.editableTabs,i=this.$store.state.presentQuestion.name,o=void 0;if(1!=n.length){s===e&&n.forEach(function(s,a){if(s.name===e){o=s.title;var r=n[a+1]||n[a-1];r&&(i=r.title,t.$store.state.activeQuestion.forEach(function(e){e.name==i&&t.$store.commit("updatePresQues",e)}))}});var a=n.filter(function(t){return t.name!==e});this.editableTabs=a.map(function(e,t){return{name:t+1+"",title:e.title}}),this.editableTabsValue=this.editableTabs.find(function(e){return e.title==i}).name,this.tabIndex--,this.$store.commit("updatedActiveQues",this.$store.state.activeQuestion.filter(function(e){return e.name!=o}))}},clickTab:function(e){this.common("saveAnswer"),this.$store.state.presentQuestion.name!=e.label&&(this.editableTabsValue=e.name,this.$store.commit("updatePresQues",this.$store.state.activeQuestion.find(function(t){return t.name==e.label})))},lastQuestion:function(){this.common("saveAnswer");var e=this.$store.state;if("第1题"!=e.presentQuestion.name&&1!=this.$store.state.activeQuestion.length){var t="第"+(e.presentQuestion.name.replace(/[^0-9]/gi,"")-1)+"题",s=e.activeQuestion.find(function(e){return e.name==t}),n=e.questionList.flat().filter(function(e){return e.name==t});s?this.$store.commit("updatePresQues",s):this.$store.dispatch("sendQuestionContentReq",{id:n.eid,name:t,pid:n.pid})}},nextQuestion:function(){this.common("saveAnswer");var e=this.$store.state;if(e.presentQuestion.name!="第"+e.questionList.flat().length+"题"){var t="第"+(Number(e.presentQuestion.name.replace(/[^0-9]/gi,""))+1)+"题",s=e.activeQuestion.find(function(e){return e.name==t}),n=e.questionList.flat().find(function(e){return e.name==t});s?this.$store.commit("updatePresQues",s):this.$store.dispatch("sendQuestionContentReq",{id:n.eid,name:t,pid:n.pid})}},fillScreen:function(){var e=this;if(this.isFillScreen){for(var t=0;t<this.horFunList.length;t++)if("fillScreen"==this.horFunList[t].name){this.horFunList[t].class=this.horFunList[t].class.replace("icon-fangda","icon-suoxiao");break}this.$nextTick(function(){e.$el.querySelector(".code-pane").scrollTop=e.$el.querySelector(".code-pane").scrollHeight,e.$el.querySelector(".code-pane").parentNode.style.height="100%",e.$el.querySelector(".show-pane").parentNode.style.height="0%",e.$el.querySelector(".question-content").parentNode.style.width="0%",e.$el.querySelector(".editor-pane").parentNode.style.width="100%",e.$el.querySelector(".debug-pane").parentNode.style.width="0%",e.$el.querySelector(".visual-pane").parentNode.style.width="0%"})}else{for(var s=0;s<this.horFunList.length;s++)if("fillScreen"==this.horFunList[s].name){this.horFunList[s].class=this.horFunList[s].class.replace("icon-suoxiao","icon-fangda");break}this.$nextTick(function(){e.$el.querySelector(".code-pane").scrollTop=0,e.$el.querySelector(".code-pane").parentNode.style.height="85%",e.$el.querySelector(".show-pane").parentNode.style.height="15%",e.$el.querySelector(".question-content").parentNode.style.width="20%",e.$el.querySelector(".editor-pane").parentNode.style.width="70%",e.$el.querySelector(".debug-pane").parentNode.style.width="10%",e.$el.querySelector(".visual-pane").parentNode.style.width="0%"})}},clearResult:function(){this.result=[]},saveAnswer:function(e){console.log(e)},createsolveTrend:function(e,t){var s={};return s.chapName=this.$store.state.presentQuestion.content.questionFullName.substr(0,3),s.name=this.$store.state.presentQuestion.name,s.rightNum=e,s.errorNum=t,s.time=(new Date).getFullYear()+"/"+((new Date).getMonth()+1)+"/"+(new Date).getDate()+" "+(new Date).getHours()+":"+(new Date).getMinutes(),s},common:function(e){var t=this,s="",n="";switch(e){case"compile":if(this.debugFlag)return;this.result.push({name:"compiling",content:'正在编译...<i class="el-icon-loading"></i>'}),this.$store.commit("updateAnswer",this.studentAnswer),s={type:10,content:{questionRes:this.$store.state.presentQuestion.content,questionId:this.$store.state.presentQuestion.id,eId:this.$store.state.presentQuestion.id,schemeId:this.$store.state.schemeId,studentId:JSON.parse(localStorage.getItem("user")).id}},n=this.getCompileRes;break;case"runGroup":if(!this.compileFlag)return void this.result.push({name:"runError",content:"请先编译！"});if(this.debugFlag)return;this.result.push({name:"running",content:'正在运行...<i class="el-icon-loading"></i>'}),s={type:161,content:{questionFullName:this.$store.state.presentQuestion.content.questionFullName,questionId:this.$store.state.presentQuestion.id,schemeId:this.$store.state.schemeId,studentId:JSON.parse(localStorage.getItem("user")).id}},n=this.getRunGroupRes;break;case"runSiginal":if(!this.compileFlag)return void this.result.push({name:"runError",content:"请先编译！"});if(this.debugFlag)return;s={type:11,content:{questionFullName:this.$store.state.presentQuestion.content.questionFullName}},n=this.getRunSiginalRes;break;case"startDebug":if(!this.compileFlag)return void this.result.push({name:"debugError",content:"请先编译！"});if(this.runSig&&this.common("quitDebug"),this.debugFlag)return;this.result.push({name:"startDebuging",content:'开启调试中...<i class="el-icon-loading"></i>'}),s={type:1,content:{bp:this.bpRow.substring(1),questionFullName:this.$store.state.presentQuestion.content.questionFullName}},n=this.getStartDebugRes;break;case"stepInto":if(!this.debugFlag)return;s={type:2,content:{bp:this.bpRow.substring(1),questionFullName:this.$store.state.presentQuestion.content.questionFullName}},n=this.getStepIntoRes;break;case"stepOver":if(!this.debugFlag)return;s={type:121,content:{bp:this.bpRow.substring(1),questionFullName:this.$store.state.presentQuestion.content.questionFullName}},n=this.getStepOverRes;break;case"quitDebug":s={type:141,content:{bp:this.bpRow.substring(1),questionFullName:this.$store.state.presentQuestion.content.questionFullName}},n=this.getQuitDebugRes;break;case"continueDebug":if(!this.debugFlag)return;s={type:191,content:{bp:this.bpRow.substring(1),questionFullName:this.$store.state.presentQuestion.content.questionFullName}},n=this.getContinueDebugRes;break;case"repeatDebug":if(!this.debugFlag)return;s={type:23,content:{bp:this.bpRow.substring(1),questionFullName:this.$store.state.presentQuestion.content.questionFullName}},n=this.getRepeatDebugRes;break;case"saveAnswer":this.$store.commit("updateAnswer",this.studentAnswer),s={type:82,content:{questionRes:this.$store.state.presentQuestion.content,questionId:this.$store.state.presentQuestion.id,eId:this.$store.state.presentQuestion.id,schemeId:this.$store.state.schemeId,studentId:JSON.parse(localStorage.getItem("user")).id}},n=this.saveAnswer;break;case"fillScreen":this.isFillScreen=!this.isFillScreen,this.fillScreen();break;case"more":this.showVerList=!this.showVerList}setTimeout(function(){t.sendReq(s,n)})},sendReq:function(e,t){""===e&&""===t||(console.log(e),this.socket.sendSock(e,t))},getCompileRes:function(e){if(this.result.pop(),e.content.includes("成功"))this.compileFlag=!0;else{this.compileFlag=!1;for(var t=0;t<e.content.length;t++)"I"==e.content[t]&&"n"==e.content[t+1]&&(e.content=e.content.slice(0,t-1)+"<br/>"+e.content.slice(t),t+=4)}this.result.push({name:"compileRes",content:e.content+"!"})},getRunGroupRes:function(e){this.$store.state.solveTrends.push(this.createsolveTrend(e.content.right_num,e.content.error_num)),this.result.pop(),this.result.push({name:"runGroupRes",content:e.content.output}),this.result.push({name:"num",content:"正确次数: "+e.content.right_num+"&nbsp;&nbsp;错误次数: "+e.content.error_num})},getRunSiginalRes:function(e){this.runSig=!0,this.result.push({name:"runSiginalRes",content:e.content.output})},getStartDebugRes:function(e){console.log("开始",e),this.result.pop(),""==e.content.error&&(this.debugFlag=!0),this.result.push({name:"startDebugRes",content:"开启调试 ："+e.content.output}),this.variate=e.content.variate,this.renderVariate=this.renderVar(this.variate),this.lineNum=e.content.lineNum},getStepOverRes:function(e){console.log("下一步",e),this.variate=e.content.variate,this.renderVariate=this.renderVar(this.variate),this.lineNum=e.content.lineNum},getStepIntoRes:function(e){e.content.output.includes("Quit")||this.$refs.ace[this.editableTabsValue-1].aceEditor.session.getLength()<e.content.lineNum?this.common("quitDebug"):(this.variate=e.content.variate,this.renderVariate=this.renderVar(this.variate),this.lineNum=e.content.lineNum)},getQuitDebugRes:function(e){this.renderVariate=[],this.debugFlag=!1,this.result.push({name:"quitDebugRes",content:"终止调试！"})},getContinueDebugRes:function(e){console.log("继续调试",e),this.lineNum=e.content.lineNum,this.variate=e.content.variate,this.renderVariate=this.renderVar(this.variate)},getRepeatDebugRes:function(e){console.log(e)},getQuestionContent:function(e,t,s){var n=this.$store.state.activeQuestion.find(function(t){return t.id==e});n?this.$store.commit("updatePresQues",n):this.$store.dispatch("sendQuestionContentReq",{id:e,name:t,pid:s})}},watch:{compileFlag:function(){},debugFlag:function(){this.debugFlag?(this.$refs.dbhl[this.editableTabsValue-1].style.display="block",this.$refs.dbhl[this.editableTabsValue-1].style.height=this.$refs.ace[this.editableTabsValue-1].aceEditor.renderer.lineHeight+"px",this.verFunList=this.verFunList.map(function(e){var t=e;return t.class=t.class.replace("banClick",""),t}),this.horFunList=this.horFunList.map(function(e){return e.class+=" banClick",e}),this.showVerList||this.common("more")):(this.$refs.dbhl[this.editableTabsValue-1].style.display="none",this.verFunList=this.verFunList.map(function(e){return e.class+=" banClick",e}),this.horFunList=this.horFunList.map(function(e){var t=e;return t.class=t.class.replace("banClick",""),t}),this.showVerList&&this.common("more"))},lineNum:function(){this.$refs.dbhl[this.editableTabsValue-1].style.top=this.$refs.ace[this.editableTabsValue-1].lineHeight*(this.lineNum-1)+"px",this.$refs.ace[this.editableTabsValue-1].aceEditor.container.appendChild(this.$refs.dbhl[this.editableTabsValue-1])},result:function(){var e=this;this.$nextTick(function(){for(var t=e.$el.querySelector(".showResult"),s=t.scrollHeight,n=t.scrollTop,i=0;i<s-n;i++)setTimeout(function(){t.scrollTop++},.8*i)})},presentQuestion:function(){var e=this;this.$store.commit("updatedQuestDesc",this.$store.state.presentQuestion.content.questionContent.questionDescription),this.$store.state.presentQuestion.name&&this.addTab(this.$store.state.presentQuestion.name),setTimeout(function(){e.$refs.ace[e.editableTabsValue-1].aceEditor.setValue(e.$store.state.presentQuestion.content.questionContent.studentAnswer,1)})}},computed:{presentQuestion:function(){return this.$store.state.presentQuestion}},components:{Splitpanes:Q.a,ace:V}}),E={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"father"},[s("div",{ref:"questList",staticClass:"question-list"},[s("h3",[e._v(e._s(this.$store.state.continue_tableName))]),e._v(" "),s("el-collapse",e._l(this.$store.state.questionList,function(t,n){return s("el-collapse-item",{key:n,staticClass:"collapse-font",attrs:{title:t[0].chapName}},e._l(t,function(t,n){return s("div",{key:n,staticClass:"question-name",on:{click:function(s){return e.getQuestionContent(t.eid,t.name,t.pid)}}},[s("span",[1===e.questType?s("i",{staticClass:"iconfont icon-weitongguo"}):2===e.questType?s("i",{staticClass:"iconfont icon-yitongguo"}):s("i",{staticClass:"iconfont icon-weikaishi"}),e._v("\n                "+e._s(t.name)+"\n              ")]),e._v(" "),s("span",{staticClass:"quest-situation"},[s("i",{staticClass:"iconfont icon-bianyi",attrs:{title:"编译成功次数"}},[e._v(e._s(t.cmpRightCount))]),e._v(" "),s("i",{staticClass:"iconfont icon-bianyishibai",attrs:{title:"编译失败次数"}},[e._v(e._s(t.cmpErrorCount))]),e._v(" "),s("i",{staticClass:"iconfont icon-chengzuyunxing",attrs:{title:"运行成功次数"}},[e._v(e._s(t.runResult))]),e._v(" "),s("i",{staticClass:"iconfont icon-yunxingshibai",attrs:{title:"运行失败次数"}},[e._v(e._s(t.runErrCount))])])])}),0)}),1),e._v(" "),s("div",{staticClass:"close-btn"},[s("el-button",{on:{click:e.hideQuestList}},[e._v("关闭")])],1)],1),e._v(" "),s("splitpanes",{attrs:{"push-other-panes":!0,"watch-slots":""}},[s("div",{staticClass:"question-content",class:{"questContent-color":e.isQuestListOpen},attrs:{"splitpanes-size":e.pan_1},on:{scroll:e.fixButton}},[s("div",{ref:"topMenu",staticClass:"question-menu-top",class:{"menu-color":e.isQuestListOpen}},[s("el-dropdown",{attrs:{trigger:"click","hide-on-click":!1},on:{command:e.setEditor,"visible-change":e.hidSetMenu}},[s("span",{staticClass:"iconfont icon-zidingyi",attrs:{title:"设置"}}),e._v(" "),s("el-dropdown-menu",{ref:"elDropdown",attrs:{slot:"dropdown"},slot:"dropdown"},[s("el-dropdown-item",{attrs:{command:"主题"}},[s("i",{staticClass:"el-icon-menu"}),e._v("主题"),s("i",{staticClass:"el-icon-arrow-right"})]),e._v(" "),s("el-dropdown-item",{attrs:{command:"字体"}},[s("i",{staticClass:"el-icon-edit"}),e._v("字体"),s("i",{staticClass:"el-icon-arrow-right"})]),e._v(" "),s("el-dropdown-item",{attrs:{command:"帮助"}},[s("i",{staticClass:"el-icon-question"}),e._v("帮助"),s("i",{staticClass:"el-icon-arrow-right"})])],1)],1),e._v(" "),e.showSetMenu?s("ul",{ref:"setMenu",staticClass:"setting-menu"},e._l(e.aceModes,function(t){return s("li",{key:t.name,on:{click:e.setModes}},[e._v(e._s(t.name))])}),0):e._e(),e._v(" "),s("i",{staticClass:"iconfont icon-gerenxinxi",staticStyle:{"margin-left":"20px",cursor:"pointer"},attrs:{title:"个人中心"},on:{click:e.goTo}}),e._v(" "),s("i",{staticClass:"iconfont icon-liebiao",staticStyle:{cursor:"pointer"},on:{click:e.showQuestList}})],1),e._v(" "),s("div",{staticClass:"question-desc"},[s("p",[e._v(e._s(this.$store.state.questionDesc))])]),e._v(" "),s("div",{ref:"bottomMenu",staticClass:"question-menu-bottom",class:{"menu-color":e.isQuestListOpen}},[s("el-button",{staticStyle:{"margin-right":"20px"},attrs:{type:"primary",round:""},on:{click:e.lastQuestion}},[e._v("上一题")]),e._v(" "),s("el-button",{staticStyle:{"margin-right":"20px"},attrs:{type:"primary",round:""},on:{click:e.nextQuestion}},[e._v("下一题")])],1)]),e._v(" "),s("splitpanes",{staticClass:"editor-pane",attrs:{horizontal:"","push-other-panes":!0,"splitpanes-size":e.pan_2,"watch-slots":""},on:{resize:e.modifyDiv}},[s("el-tabs",{staticClass:"code-pane",attrs:{type:"card",closable:"","splitpanes-size":e.pan_2_1},on:{"tab-remove":e.removeTab,"tab-click":e.clickTab},model:{value:e.editableTabsValue,callback:function(t){e.editableTabsValue=t},expression:"editableTabsValue"}},e._l(e.editableTabs,function(t){return s("el-tab-pane",{key:t.name,attrs:{label:t.title,name:t.name}},[s("div",{ref:"dbhl",refInFor:!0,staticClass:"debug-highlighted"}),e._v(" "),s("ace",{ref:"ace",refInFor:!0,on:{createBP:e.createBP},model:{value:e.studentAnswer,callback:function(t){e.studentAnswer=t},expression:"studentAnswer"}}),e._v(" "),s("div",{staticClass:"funMenu",on:{mousedown:function(t){return e.mouseEvent("down")},mouseup:function(t){return e.mouseEvent("up")}}},[s("ul",{staticClass:"horizontal-list"},e._l(e.horFunList,function(t){return s("li",{key:t.name},[s("el-tooltip",{attrs:{content:t.title,placement:"bottom",effect:"light"}},[s("i",{class:t.class,on:{click:function(s){return e.common(t.name)}}})])],1)}),0),e._v(" "),s("transition",{attrs:{name:"verList"}},[e.showVerList?s("transition-group",{staticClass:"vertical-list",attrs:{tag:"ul"}},e._l(e.verFunList,function(t){return s("li",{key:t.name},[s("el-tooltip",{attrs:{content:t.title,placement:"left",effect:"light"}},[s("i",{class:t.class,on:{click:function(s){return e.common(t.name)}}})])],1)}),0):e._e()],1)],1)],1)}),1),e._v(" "),s("div",{staticClass:"show-pane",attrs:{"splitpanes-size":e.pan_2_2}},[s("div",{staticClass:"result-menu"},[s("el-tooltip",{attrs:{content:"清屏",placement:"bottom",effect:"light"}},[s("i",{staticClass:"iconfont icon-qingkong",on:{click:e.clearResult}})])],1),e._v(" "),s("div",{ref:"resShow",staticClass:"showResult",style:{height:e.initHeight}},e._l(e.result,function(t,n){return s("p",{key:n,class:{success:t.content.includes("成功"),fail:t.content.includes("失败"),ing:t.content.includes("正在")},domProps:{innerHTML:e._s(t.content)}})}),0)])],1),e._v(" "),s("div",{staticClass:"debug-pane",attrs:{"splitpanes-size":e.pan_3}},[s("el-tree",{attrs:{data:e.renderVariate,props:e.defaultProps,"default-expand-all":!0}})],1),e._v(" "),s("div",{staticClass:"visual-pane",attrs:{"splitpanes-size":e.pan_4}})],1)],1)},staticRenderFns:[]};var D=s("VU/8")(A,E,!1,function(e){s("F1jC")},null,null).exports,M={created:function(){},data:function(){return{}},methods:{goTo:function(e,t){console.log(t),this.$router.push({name:e,params:{name:t}})}},computed:{user:function(){return JSON.parse(localStorage.getItem("user"))},trends:function(){return this.$store.state.solveTrends}},components:{CalendarHeatmap:s("x3Se").CalendarHeatmap}},z={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-row",{staticClass:"el-card box-card is-always-shadow per-header"},[n("el-col",{staticStyle:{display:"flex","justify-content":"space-between","align-items":"center"},attrs:{span:12,offset:4}},[n("h1",{staticStyle:{color:"#409eff",margin:"0"}},[e._v("Anyview")]),e._v(" "),n("span",{staticStyle:{"font-size":"17px"}},[e._v("社区")]),e._v(" "),n("span",{staticStyle:{"font-size":"17px"},on:{click:function(t){return e.goTo("work")}}},[e._v("课程")])]),e._v(" "),n("el-col",{attrs:{span:6}})],1),e._v(" "),n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:4,offset:4}},[n("el-card",{staticClass:"box-card"},[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("img",{staticStyle:{height:"48px",width:"48px"},attrs:{src:s("BNGd"),alt:"茶客"}}),e._v(" "),n("span",[e._v(e._s(e.user.name))]),e._v(" "),n("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"}},[e._v("退出账号")])],1),e._v(" "),n("p",[e._v("昵称："+e._s(e.user.name))]),e._v(" "),n("p",[e._v("邮箱："+e._s(e.user.email))]),e._v(" "),n("p",[e._v("学号："+e._s(e.user.username))]),e._v(" "),n("p",[e._v("学校：广东工业大学")])])],1),e._v(" "),n("el-col",{attrs:{span:12}},[n("el-tabs",{attrs:{type:"border-card"}},[n("el-tab-pane",{attrs:{label:"做题动态"}},[n("div",{staticClass:"solve-trends"},[n("calendarHeatmap",{staticStyle:{"margin-bottom":"20px"},attrs:{values:[{date:"2018-9-22",count:6}],"end-date":1987,"range-color":["ebedf0","dae2ef","#c0ddf9","#73b3f3","#3886e1","#17459e"]}}),e._v(" "),n("el-timeline",e._l(e.trends,function(t,s){return n("el-timeline-item",{key:s,attrs:{timestamp:t.time,placement:"bottom"}},[n("div",[n("span",[e._v(e._s(e.user.name)+"运行了")]),e._v(" "),n("span",{staticClass:"per-question-name",on:{click:function(s){return e.goTo("Coding",t.name)}}},[e._v(e._s(t.chapName+t.name))]),e._v(" "),n("span",{staticClass:"el-icon-check",staticStyle:{color:"#08bf91"}},[e._v("正确次数："+e._s(t.rightNum))]),e._v(" "),n("span",{staticClass:"el-icon-close",staticStyle:{color:"#dc3545"}},[e._v("错误次数："+e._s(t.errorNum))])]),e._v(" "),0!=t.errorNum?n("el-button",{attrs:{type:"danger",round:"",size:"mini"}},[e._v("未通过")]):n("el-button",{attrs:{type:"success",round:"",size:"mini"}},[e._v("通过")])],1)}),1)],1)]),e._v(" "),n("el-tab-pane",{attrs:{label:"修改信息"}}),e._v(" "),n("el-tab-pane",{attrs:{label:"我的笔记"}}),e._v(" "),n("el-tab-pane",{attrs:{label:"我的消息"}}),e._v(" "),n("el-tab-pane",{attrs:{label:"信息统计"}})],1)],1)],1),e._v(" "),n("el-row",[n("el-col",{attrs:{span:6}}),e._v(" "),n("el-col",{attrs:{span:18}})],1)],1)},staticRenderFns:[]};var P=s("VU/8")(M,z,!1,function(e){s("sQRE")},null,null).exports;i.default.use(l.a);var O=new l.a({mode:"history",routes:[{path:"/login",name:"login",component:y,meta:{requiresAuth:!0}},{path:"/work",name:"work",component:k,meta:{requiresAuth:!0}},{path:"/Coding",name:"Coding",component:D,meta:{requiresAuth:!0}},{path:"/PersonalCenter",name:"personalCenter",component:P},{path:"/",component:y,redirect:"/Login"},{path:"**",redirect:"/Login"}]}),H=s("mvHQ"),B=s.n(H),G=null,J=null;function j(e,t){J=t,G.readyState===G.OPEN?function(e){G.send(B()(e))}(e):(G.readyState,G.CONNECTING,setTimeout(function(){j(e,t)},1e3))}function U(e){console.log("connection closed ("+e.code+")")}(G=new WebSocket("ws://101.132.120.137:8889/anyview")).onmessage=function(e){!function(e){J(JSON.parse(e.data))}(e)},G.onclose=function(e){U(e)},G.onopen=function(){console.log("连接成功")},G.onerror=function(){console.log("WebSocket连接发生错误")};s("muQq");var Y=s("NYxO"),W=(s("Ya8g"),{getSchoolListRes:function(e,t){e.schoolList=t.content},getLoginRes:function(e,t){-1==t.type?(e.user=t.content,e.isLogin=!0,window.localStorage.setItem("isLogin",!0),window.localStorage.setItem("user",B()(t.content))):e.isLogin=!1},getQuestionListRes:function(e,t){e.totalNum=t.content[0].totalNum,e.continue_tableName=t.content[0].tableName,e.schemeId=t.content[0].id;var s=t.content[0].catalogs;e.questionList=new Array;var n=new Array,i=s[0];s.forEach(function(t,s){t.name="第"+(s+1)+"题",t.chapName==i.chapName?n.push(t):(e.questionList.push(n),(n=new Array).push(t)),i=t}),e.questionList.push(n),this.dispatch("sendQuestionContentReq",{id:e.questionList[0][0].eid,name:e.questionList[0][0].name,pid:e.questionList[0][0].pid})},getQuestionContentRes:function(e,t){console.log(t);var s={name:e.presentQuestion.name,id:e.presentQuestion.id,content:t.content},n=JSON.parse(B()(s));this.commit("updatedQuestDesc",t.content.questionContent.questionDescription),this.commit("updatePresQues",s),this.commit("updatedActiveQues",n)},updateAnswer:function(e,t){e.presentQuestion.content.questionContent.studentAnswer=t},updatePresQues:function(e,t){e.presentQuestion=t},updatedActiveQues:function(e,t){e.activeQuestion.push(t)},updatedQuestDesc:function(e,t){e.questionDesc=t}}),Z={sendSchoolListReq:function(){this._vm.socket.sendSock({type:6,content:"获取学校列表"},this._mutations.getSchoolListRes[0])},sendLoginReq:function(e,t){this._vm.socket.sendSock({type:0,content:t},this._mutations.getLoginRes[0])},sendLogoutReq:function(e,t){this._vm.socket.sendSock({type:5,content:t},this._mutations.getLogoutRes[0])},sendQuestionListReq:function(e){var t=JSON.parse(localStorage.getItem("user")).id;this._vm.socket.sendSock({type:3,content:t},this._mutations.getQuestionListRes[0])},sendQuestionContentReq:function(e,t){var s=t.id,n=t.name;t.pid;e.state.presentQuestion.name=n,e.state.presentQuestion.id=s,this._vm.socket.sendSock({type:4,content:s},this._mutations.getQuestionContentRes[0])}};i.default.use(Y.a);var K=new Y.a.Store({state:{isLogin:!1,user:{},schoolList:[],questionList:[],continue_tableName:"",totalNum:0,questionDesc:"",presentQuestion:{},activeQuestion:[],solveTrends:[],schemeId:""},mutations:W,actions:Z,getters:{getQuestDesc:function(e){}}});i.default.prototype.socket=n,i.default.use(F.a),i.default.use(a.a),i.default.config.productionTip=!1,O.beforeEach(function(e,t,s){e.matched.some(function(e){return e.meta.requiresAuth})&&localStorage.getItem("isLogin")?("/Login"==e.path&&s("/work"),s()):s()});new i.default({el:"#app",router:O,store:K,components:{App:c},template:"<App/>"})},Qorl:function(e,t){},Z6VL:function(e,t){},ezYk:function(e,t){},jCvb:function(e,t){},muQq:function(e,t){},sQRE:function(e,t){},sSya:function(e,t){},tvR6:function(e,t){},zGnw:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.2212bf8c4ed423e53d5e.js.map
webpackJsonp([1],{"+RDi":function(t,e){},BNGd:function(t,e,s){t.exports=s.p+"static/img/touxiang.fba6ac6.jpg"},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={};s.d(n,"sendSock",function(){return U}),s.d(n,"websocketclose",function(){return j});var i=s("7+uW"),o=s("zL8q"),a=s.n(o),r=(s("tvR6"),{render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view",{attrs:{id:"router"}})],1)},staticRenderFns:[]});var c=s("VU/8")({},r,!1,function(t){s("ezYk")},null,null).exports,l=s("/ocq");class u{constructor(t,e){this.x=t,this.y=e,this.r=10*Math.random(),this._mx=Math.random(),this._my=Math.random()}drawCircle(t){t.beginPath(),t.arc(this.x,this.y,this.r,0,360),t.closePath(),t.fillStyle="rgba(204, 204, 204, 0.3)",t.fill()}drawLine(t,e){let s=this.x-e.x,n=this.y-e.y;Math.sqrt(s*s+n*n)<150&&(t.beginPath(),t.moveTo(this.x,this.y),t.lineTo(e.x,e.y),t.closePath(),t.strokeStyle="rgba(204, 204, 204, 0.3)",t.stroke())}move(t,e){this._mx=this.x<t&&this.x>0?this._mx:-this._mx,this._my=this.y<e&&this.y>0?this._my:-this._my,this.x+=this._mx/2,this.y+=this._my/2}}let h,d,p,m,f,v;window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;let g=function(){d.clearRect(0,0,p,m);for(let t=0;t<f.length;t++){f[t].move(p,m),f[t].drawCircle(d);for(let e=t+1;e<f.length;e++)f[t].drawLine(d,f[e])}if(v.x){v.drawCircle(d);for(var t=1;t<f.length;t++)v.drawLine(d,f[t])}requestAnimationFrame(g)};var b=function(t){window.onmousemove=function(t){t=t||window.event,v.x=t.clientX,v.y=t.clientY},window.onmouseout=function(){v.x=null,v.y=null},h=document.getElementById("canvas"),d=h.getContext("2d"),p=h.width=h.offsetWidth,m=h.height=h.offsetHeight,f=[],v=new class extends u{constructor(t,e){super(t,e)}drawCircle(t){t.beginPath(),this.r=8,t.arc(this.x,this.y,this.r,0,360),t.closePath(),t.fillStyle="rgba(255, 77, 54, 0.6)",t.fill()}}(0,0);for(var e=0;e<t;e++)f.push(new u(Math.random()*p,Math.random()*m));g()},_={data:function(){return{error:!0,errDesc:"",user:{roleId:3,username:"",password:"",schoolId:"",switch:!0}}},mounted:function(){b(60),this.$store.dispatch("sendSchoolListReq")},methods:{checkInfo:function(){for(var t in this.user)if(""===this.user[t]){switch(t){case"username":this.errDesc="账号输入为空";break;case"password":this.errDesc="密码输入为空";break;case"schoolId":this.errDesc="未选择学校"}return this.error=!1,!1}return!0},submit:function(){var t=this;this.checkInfo()&&this.$store.dispatch("sendLoginReq",this.user),setTimeout(function(){if(!localStorage.getItem("isLogin"))return t.error=!1,void(t.errDesc="信息输入错误");t.$router.push({name:"work"})},500)}}},w={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("canvas",{attrs:{id:"canvas"}}),t._v(" "),s("el-form",{ref:"form",attrs:{"label-width":"80px"}},[s("h1",{staticStyle:{color:"#409eff","text-align":"center"}},[t._v("Anyview")]),t._v(" "),s("el-form-item",{staticClass:"role"},[s("el-radio-group",{model:{value:t.user.roleId,callback:function(e){t.$set(t.user,"roleId",e)},expression:"user.roleId"}},[s("el-radio-button",{attrs:{label:"1"}},[t._v("管理员")]),t._v(" "),s("el-radio-button",{attrs:{label:"2"}},[t._v("教师")]),t._v(" "),s("el-radio-button",{attrs:{label:"3"}},[t._v("学生")])],1)],1),t._v(" "),s("el-form-item",{attrs:{label:"账号"}},[s("el-input",{attrs:{placeholder:"请输入账号"},model:{value:t.user.username,callback:function(e){t.$set(t.user,"username",e)},expression:"user.username"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"密码"}},[s("el-input",{attrs:{placeholder:"请输入密码","show-password":""},model:{value:t.user.password,callback:function(e){t.$set(t.user,"password",e)},expression:"user.password"}})],1),t._v(" "),s("el-form-item",[s("el-select",{attrs:{placeholder:"请选择您的学校"},model:{value:t.user.schoolId,callback:function(e){t.$set(t.user,"schoolId",e)},expression:"user.schoolId"}},t._l(this.$store.state.schoolList,function(t,e){return s("el-option",{key:e,attrs:{value:t.id,label:t.schoolName}})}),1),t._v(" "),s("el-checkbox",{model:{value:t.user.switch,callback:function(e){t.$set(t.user,"switch",e)},expression:"user.switch"}},[t._v("记住密码")])],1),t._v(" "),s("transition",{attrs:{name:"login"}},[t.error?t._e():s("el-alert",{staticStyle:{"margin-bottom":"22px"},attrs:{title:"登录失败",type:"error",description:t.errDesc,"show-icon":""}})],1),t._v(" "),s("el-form-item",{staticClass:"butt"},[s("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("登录")]),t._v(" "),s("el-button",{attrs:{type:"danger"}},[t._v("忘记密码")])],1)],1)],1)},staticRenderFns:[]};var y=s("VU/8")(_,w,!1,function(t){s("Qorl")},null,null).exports,$={props:{courseName:String,cardType:String,questionId:{type:Number,default:0},questionCount:{type:Number,default:200},totalNum:{type:Number,default:0}},methods:{clickCard:function(){this.$emit("goTo")}}},C={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"course-card",on:{click:t.clickCard}},[s("h2",[t._v(t._s(t.courseName))]),t._v(" "),s("el-progress",{attrs:{type:"circle",percentage:t.questionId/t.questionCount*100,width:100}}),t._v(" "),s("div",{staticClass:"work-info"},[s("h3",[t._v(t._s(t.totalNum))]),t._v(" "),s("h3",[t._v(t._s(t.questionId))])]),t._v(" "),s("div",{staticClass:"work-text"},[s("span",[t._v("总章节")]),t._v(" "),s("span",[t._v(t._s(t.cardType))])])],1)},staticRenderFns:[]};var S={created:function(){this.$store.dispatch("sendQuestionListReq"),this.user=JSON.parse(window.localStorage.getItem("user")),this.$message({showClose:!0,message:"欢迎您,"+this.user.name,type:"success"})},mounted:function(){b(30)},data:function(){return{user:{}}},methods:{clickItem:function(t){switch(t){case"personal_center":this.goTo("personalCenter");break;case"logout":this.logout()}},logout:function(){this.socket.sendSock({type:5,content:this.user},this.getLogoutRes)},getLogoutRes:function(t){t.content.includes("退出")&&(localStorage.clear(),this.goTo("login"))},goTo:function(t){this.$router.push({name:t})}},components:{course:s("VU/8")($,C,!1,function(t){s("zGnw")},null,null).exports}},q={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("canvas",{attrs:{id:"canvas"}}),t._v(" "),s("div",{staticClass:"container"},[s("div",{staticClass:"header w"},[t._m(0),t._v(" "),s("div",{staticClass:"menu-bar"},[s("el-input",{attrs:{placeholder:"请输入内容","prefix-icon":"el-icon-search",size:"small"}})],1),t._v(" "),s("div",{staticClass:"per-info"},[s("span",{staticStyle:{"margin-right":"10px"}},[t._v(t._s(t.user.name))]),t._v(" "),s("el-dropdown",{attrs:{trigger:"click"},on:{command:t.clickItem}},[s("span",{staticClass:"user-icon"}),t._v(" "),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[s("el-dropdown-item",{attrs:{command:"personal_center"}},[s("i",{staticClass:"el-icon-menu"}),t._v("个人中心")]),t._v(" "),s("el-dropdown-item",[s("i",{staticClass:"el-icon-bell"}),t._v("我的消息")]),t._v(" "),s("el-dropdown-item",[s("i",{staticClass:"el-icon-star-off"}),t._v("我的收藏")]),t._v(" "),s("el-dropdown-item",[s("i",{staticClass:"el-icon-tickets"}),t._v("我的笔记")]),t._v(" "),s("el-dropdown-item",[s("i",{staticClass:"el-icon-time"}),t._v("我的进度")]),t._v(" "),s("el-dropdown-item",{attrs:{command:"logout"}},[s("i",{staticClass:"el-icon-warning"}),t._v("退出账号")])],1)],1)],1)]),t._v(" "),s("div",{staticClass:"content w"},[s("h1",{staticStyle:{"margin-top":"30px"}},[t._v("继续题目：")]),t._v(" "),s("div",{staticClass:"latest-course"},[s("course",{attrs:{courseName:this.$store.state.continue_tableName,cardType:"上次做到",totalNum:this.$store.state.totalNum,questionId:40,questionCount:200},on:{goTo:function(e){return t.goTo("Coding")}}})],1),t._v(" "),s("h1",[t._v("其他课程：")]),t._v(" "),s("div",{staticClass:"all-course"},[s("course",{attrs:{courseName:"C语言程序设计",cardType:"题目总数"},on:{goTo:t.goTo}}),t._v(" "),s("course",{attrs:{courseName:"Java语言程序设计",cardType:"题目总数"}}),t._v(" "),s("course",{attrs:{courseName:"离散数学实践",cardType:"题目总数"}}),t._v(" "),s("course",{attrs:{courseName:"C#语言程序设计",cardType:"题目总数"}}),t._v(" "),s("course",{attrs:{courseName:"数据结构",cardType:"题目总数"}}),t._v(" "),s("course",{attrs:{courseName:"操作系统",cardType:"题目总数"}})],1)]),t._v(" "),t._m(1)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"logo"},[e("h1",{staticStyle:{color:"#409eff"}},[this._v("Anyview")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"footer"},[e("span",[this._v("© 广东工业大学Anyview工作室")]),this._v(" "),e("span",[this._v("地址：大学城校区工学一号馆620")]),this._v(" "),e("span",[this._v("问题反馈：1084235321@qq.com")])])}]};var k=s("VU/8")(S,q,!1,function(t){s("+RDi")},null,null).exports,x=s("mvHQ"),N=s.n(x),Q=s("BO1k"),T=s.n(Q),L=s("EZGA"),R=s.n(L),F=(s("Z6VL"),s("M97j")),I=s.n(F),E=(s("2CdK"),s("LF/+"),s("Uq90"),s("BEqR"),{mounted:function(){this.aceEditor=I.a.edit(this.$refs.ace,{autoScrollEditorIntoView:!1,fontSize:14,theme:this.themePath,mode:this.modePath,tabSize:4}),this.aceEditor.setOptions({enableBasicAutocompletion:!0,enableSnippets:!0,enableLiveAutocompletion:!0}),this.aceEditor.on("change",this.change),this.lineHeight=this.aceEditor.renderer.lineHeight},data:function(){return{aceEditor:null,themePath:"ace/theme/katzenmilch",modePath:"ace/mode/c_cpp",lineHeight:""}},props:{test:{type:String,default:"#include 'stdio.h' "}},methods:{setBP:function(){this.$emit("createBP")},change:function(){this.$emit("input",this.aceEditor.getValue())}}}),V={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{ref:"ace",staticClass:"ace-container",on:{click:this.setBP}})},staticRenderFns:[]};var D=s("VU/8")(E,V,!1,function(t){s("sSya")},null,null).exports,A=(document.querySelector(".ace_layer"),{created:function(){var t=this;if(this.user=JSON.parse(window.localStorage.getItem("user")),this.$route.params.name){var e=this.$store.state.questionList.flat().find(function(e){return e.name==t.$route.params.name});this.$store.dispatch("sendQuestionContentReq",{id:e.eid,name:this.$route.params.name,pid:e.pid})}else this.$store.dispatch("sendQuestionListReq");this.$route.params.code&&(this.code=this.$route.params.code),this.initHeight=.15*document.documentElement.clientHeight+"px"},mounted:function(){var t=this;window.addEventListener("beforeunload",function(e){return t.beforeunloadFn(e)})},destroyed:function(){var t=this;window.removeEventListener("beforeunload",function(e){return t.beforeunloadFn(e)})},data:function(){return{aceModes:[],aceTheme:"katzenmilch",aceFont:"14px",_thisMode:"",horFunList:[{name:"compile",class:"iconfont icon-bianyi",title:"编译"},{name:"runGroup",class:"iconfont icon-chengzuyunxing",title:"运行"},{name:"startDebug",class:"iconfont icon-tiaoshi",title:"调试"},{name:"runSiginal",class:"iconfont icon-danzuyunxing",title:"单组运行"},{name:"fillScreen",class:"iconfont icon-fangda",title:"全屏"},{name:"saveAnswer",class:"iconfont icon-baocun",title:"保存"},{name:"more",class:"iconfont icon-gengduo",title:"更多"}],verFunList:[{name:"quitDebug",class:"iconfont icon-tingzhi banClick",title:"停止调试"},{name:"continueDebug",class:"iconfont icon-jixu banClick",title:"继续调试"},{name:"stepOver",class:"iconfont icon-xiayihang banClick",title:"下一步(不进入函数)"},{name:"stepInto",class:"iconfont icon-xiayibu banClick",title:"下一步(进入函数)"},{name:"repeatDebug",class:"iconfont icon-chongfujianli banClick",title:"重复调试"}],showSetMenu:!1,questType:0,pan_1:20,pan_2:70,pan_3:10,pan_4:0,pan_2_1:85,pan_2_2:15,initHeight:1,isFillScreen:!1,isSuccess:!1,isFail:!1,isQuestListOpen:!1,showVerList:!1,bpRow:"",activeIcon:{compile:1,run:1,debug:1,nextStep:1,more:1},studentAnswer:"",editableTabsValue:"1",editableTabs:[],tabIndex:0,user:{},checked:!0,lineNum:1,result:[],variate:[],renderVariate:[],defaultProps:{children:"children",label:"label"},compileFlag:!1,debugFlag:!1,runSig:!1}},methods:{beforeunloadFn:function(t){(this.runSig||this.debugFlag)&&this.common("quitDebug"),this.common("saveAnswer")},goTo:function(){this.$router.push({name:"personalCenter"})},hidSetMenu:function(){this.showSetMenu=!1},setModes:function(t){if("theme"==this._thisMode){this.aceTheme=t.target.innerText;for(var e=0;e<this.$refs.ace.length;e++)this.$refs.ace[e].aceEditor.setTheme("ace/theme/"+t.target.innerText)}else{this.aceFont=t.target.innerText;for(var s=0;s<this.$refs.ace.length;s++)this.$refs.ace[s].aceEditor.setFontSize(t.target.innerText);console.log(this.$refs.ace)}},setEditor:function(t){switch(t){case"主题":this._thisMode="theme",this.modifyModes("theme");break;case"字体":this._thisMode="font",this.modifyModes("font")}},modifyModes:function(t){var e=this;this.showSetMenu=!0,this.aceModes="theme"==t?[{name:"katzenmilch",path:"ace/theme/katzenmilch"},{name:"chrome",path:"ace/theme/chrome"},{name:"github",path:"ace/theme/github"},{name:"eclipse",path:"ace/theme/eclipse"},{name:"monokai",path:"ace/theme/monokai"},{name:"sqlserver",path:"ace/theme/sqlserver"},{name:"twilight",path:"ace/theme/twilight"}]:[{name:"12px"},{name:"13px"},{name:"14px"},{name:"15px"},{name:"16px"},{name:"17px"},{name:"18px"},{name:"19px"},{name:"20px"}],this.$nextTick(function(){e.$refs.setMenu.style.top=e.$refs.elDropdown.$el.offsetTop+"px",e.$refs.setMenu.style.left=e.$refs.elDropdown.$el.offsetLeft+e.$refs.elDropdown.$el.offsetWidth+"px"})},modifyDiv:function(t){this.$refs.resShow.style.height=t[1].width*document.documentElement.clientHeight/100+"px"},fixButton:function(t){this.$refs.topMenu.style.top=t.target.scrollTop+"px",this.$refs.bottomMenu.style.bottom=-t.target.scrollTop+"px"},renderVar:function(t){Array.isArray(t)||(t=[t]);var e=[],s=!0,n=!1,i=void 0;try{for(var o,a=T()(t);!(s=(o=a.next()).done);s=!0){var r=o.value,c={};c.label=r.name,c.children=new Array({},{},{}),c.children[0].label="type: "+r.type,c.children[1].label="name: "+r.name,Array.isArray(r.value)?(c.children[2].label="value: "+r.value[0],c.children[2].children=this.renderVar(r.value[1])):c.children[2].label="value: "+r.value,e.push(c)}}catch(t){n=!0,i=t}finally{try{!s&&a.return&&a.return()}finally{if(n)throw i}}return e},createBP:function(){if("CANVAS"===event.target.tagName&&(this.bpRow=this.bpRow.replace(event.target.parentNode.innerText,""),event.target.parentNode.removeChild(event.target)),event.target.classList.contains("ace_gutter-cell")){this.bpRow+=","+event.target.innerText;var t=document.createElement("canvas");t.width=49,t.height=this.$refs.ace[0].lineHeight,event.target.appendChild(t);var e=t.getContext("2d");e.fillStyle="#FF0000",e.beginPath(),e.arc(25,8,5,0,2*Math.PI,!0),e.closePath(),e.fill()}},mouseEvent:function(t){if("I"===event.srcElement.tagName)switch(event.srcElement.title){case"编译":this.activeIcon.compile="down"===t?.5:1;break;case"运行":this.activeIcon.run="down"===t?.5:1;break;case"调试":this.activeIcon.debug="down"===t?.5:1;break;case"下一步":this.activeIcon.nextStep="down"===t?.5:1;break;case"更多":this.activeIcon.more="down"===t?.5:1}},showQuestList:function(){this.isQuestListOpen=!0,this.$refs.questList.style.left="0"},hideQuestList:function(){this.isQuestListOpen=!1,this.$refs.questList.style.left="-20%"},addTab:function(t){var e=this;if(this.editableTabs.every(function(e){return e.title!==t})){var s=++this.tabIndex+"",n={title:t,name:s};this.editableTabsValue=s,this.editableTabs.push(n),setTimeout(function(){e.$refs.ace[e.editableTabsValue-1].aceEditor.setTheme("ace/theme/"+e.aceTheme),e.$refs.ace[e.editableTabsValue-1].aceEditor.setFontSize("ace/theme/"+e.aceFont)})}else for(var i=0;i<this.editableTabs.length;i++)if(this.editableTabs[i].title==t){this.editableTabsValue=this.editableTabs[i].name;break}},removeTab:function(t){var e=this,s=this.editableTabsValue,n=this.editableTabs,i=this.$store.state.presentQuestion.name,o=n.find(function(e){return e.name==t}).title;if(1!=n.length){s===t&&n.forEach(function(s,o){if(s.name===t){var a=n[o+1]||n[o-1];a&&(i=a.title,e.$store.state.activeQuestion.forEach(function(t){t.name==i&&e.$store.commit("updatePresQues",t)}))}});var a=n.filter(function(e){return e.name!==t});this.editableTabs=a.map(function(t,e){return{name:e+1+"",title:t.title}}),this.editableTabsValue=this.editableTabs.find(function(t){return t.title==i}).name,this.tabIndex--;var r=this.$store.state.activeQuestion.find(function(t){return t.name==o}),c=JSON.parse(N()(r));this.$store.commit("updatedActiveQues",{act:c,flag:"move"})}},clickTab:function(t){this.$store.state.presentQuestion.name!=t.label&&(console.log(this.$store.state.activeQuestion),this.editableTabsValue=t.name,this.$store.commit("updatePresQues",this.$store.state.activeQuestion.find(function(e){return e.name==t.label})))},lastQuestion:function(){var t=this.$store.state;if("第1题"!=t.presentQuestion.name&&1!=this.$store.state.activeQuestion.length){var e="第"+(t.presentQuestion.name.replace(/[^0-9]/gi,"")-1)+"题",s=t.activeQuestion.find(function(t){return t.name==e}),n=t.questionList.flat().filter(function(t){return t.name==e});s?this.$store.commit("updatePresQues",s):this.$store.dispatch("sendQuestionContentReq",{id:n.eid,name:e,pid:n.pid})}},nextQuestion:function(){var t=this.$store.state;if(t.presentQuestion.name!="第"+t.questionList.flat().length+"题"){var e="第"+(Number(t.presentQuestion.name.replace(/[^0-9]/gi,""))+1)+"题",s=t.activeQuestion.find(function(t){return t.name==e}),n=t.questionList.flat().find(function(t){return t.name==e});s?this.$store.commit("updatePresQues",s):this.$store.dispatch("sendQuestionContentReq",{id:n.eid,name:e,pid:n.pid})}},fillScreen:function(){var t=this;if(this.isFillScreen){for(var e=0;e<this.horFunList.length;e++)if("fillScreen"==this.horFunList[e].name){this.horFunList[e].class=this.horFunList[e].class.replace("icon-fangda","icon-suoxiao");break}this.$nextTick(function(){t.$el.querySelector(".code-pane").scrollTop=t.$el.querySelector(".code-pane").scrollHeight,t.$el.querySelector(".code-pane").parentNode.style.height="100%",t.$el.querySelector(".show-pane").parentNode.style.height="0%",t.$el.querySelector(".question-content").parentNode.style.width="0%",t.$el.querySelector(".editor-pane").parentNode.style.width="100%",t.$el.querySelector(".debug-pane").parentNode.style.width="0%",t.$el.querySelector(".visual-pane").parentNode.style.width="0%"})}else{for(var s=0;s<this.horFunList.length;s++)if("fillScreen"==this.horFunList[s].name){this.horFunList[s].class=this.horFunList[s].class.replace("icon-suoxiao","icon-fangda");break}this.$nextTick(function(){t.$el.querySelector(".code-pane").scrollTop=0,t.$el.querySelector(".code-pane").parentNode.style.height="85%",t.$el.querySelector(".show-pane").parentNode.style.height="15%",t.$el.querySelector(".question-content").parentNode.style.width="20%",t.$el.querySelector(".editor-pane").parentNode.style.width="70%",t.$el.querySelector(".debug-pane").parentNode.style.width="10%",t.$el.querySelector(".visual-pane").parentNode.style.width="0%"})}},clearResult:function(){this.result=[]},saveAnswer:function(t){this.$notify({title:"保存成功",type:"success",duration:"500",position:"bottom-right"})},createsolveTrend:function(t,e){var s={};return s.chapName=this.$store.state.presentQuestion.content.questionFullName.substr(0,3),s.name=this.$store.state.presentQuestion.name,s.rightNum=t,s.errorNum=e,s.time=(new Date).getFullYear()+"/"+((new Date).getMonth()+1)+"/"+(new Date).getDate()+" "+(new Date).getHours()+":"+(new Date).getMinutes(),s},common:function(t){var e=this,s="",n="";switch(t){case"compile":if(this.debugFlag)return;this.result.push({name:"compiling",content:'正在编译...<i class="el-icon-loading"></i>'}),this.$store.commit("updateAnswer",this.studentAnswer),s={type:10,content:{questionRes:this.$store.state.presentQuestion.content,questionId:this.$store.state.presentQuestion.id,eId:this.$store.state.presentQuestion.id,schemeId:this.$store.state.schemeId,studentId:JSON.parse(localStorage.getItem("user")).id}},n=this.getCompileRes;break;case"runGroup":if(!this.compileFlag)return void this.result.push({name:"runError",content:"请先编译！"});if(this.debugFlag)return;this.result.push({name:"running",content:'正在运行...<i class="el-icon-loading"></i>'}),s={type:161,content:{questionFullName:this.$store.state.presentQuestion.content.questionFullName,eID:this.$store.state.presentQuestion.id,schemeId:this.$store.state.schemeId,studentId:JSON.parse(localStorage.getItem("user")).id}},n=this.getRunGroupRes;break;case"runSiginal":if(!this.compileFlag)return void this.result.push({name:"runError",content:"请先编译！"});if(this.debugFlag)return;s={type:11,content:{questionFullName:this.$store.state.presentQuestion.content.questionFullName}},n=this.getRunSiginalRes;break;case"startDebug":if(!this.compileFlag)return void this.result.push({name:"debugError",content:"请先编译！"});if(this.runSig&&this.common("quitDebug"),this.debugFlag)return;this.result.push({name:"startDebuging",content:'开启调试中...<i class="el-icon-loading"></i>'}),s={type:1,content:{bp:this.bpRow.substring(1),questionFullName:this.$store.state.presentQuestion.content.questionFullName}},n=this.getStartDebugRes;break;case"stepInto":if(!this.debugFlag)return;s={type:2,content:{bp:this.bpRow.substring(1),questionFullName:this.$store.state.presentQuestion.content.questionFullName}},n=this.getStepIntoRes;break;case"stepOver":if(!this.debugFlag)return;s={type:121,content:{bp:this.bpRow.substring(1),questionFullName:this.$store.state.presentQuestion.content.questionFullName}},n=this.getStepOverRes;break;case"quitDebug":s={type:141,content:{bp:this.bpRow.substring(1),questionFullName:this.$store.state.presentQuestion.content.questionFullName}},n=this.getQuitDebugRes;break;case"continueDebug":if(!this.debugFlag)return;s={type:191,content:{bp:this.bpRow.substring(1),questionFullName:this.$store.state.presentQuestion.content.questionFullName}},n=this.getContinueDebugRes;break;case"repeatDebug":if(!this.debugFlag)return;s={type:23,content:{bp:this.bpRow.substring(1),questionFullName:this.$store.state.presentQuestion.content.questionFullName}},n=this.getRepeatDebugRes;break;case"saveAnswer":this.$store.commit("updateAnswer",this.studentAnswer),s={type:82,content:{questionRes:this.$store.state.presentQuestion.content,questionId:this.$store.state.presentQuestion.id,eId:this.$store.state.presentQuestion.id,schemeId:this.$store.state.schemeId,studentId:JSON.parse(localStorage.getItem("user")).id}},n=this.saveAnswer;break;case"fillScreen":this.isFillScreen=!this.isFillScreen,this.fillScreen();break;case"more":this.showVerList=!this.showVerList}setTimeout(function(){e.sendReq(s,n)})},updateNum:function(){for(var t=this.$store.state.questionList,e=this.$store.state.presentQuestion,s=0;s<t.flat().length;s++)if(t.flat()[s].eid==e.id){var n;"cmp"==(n=arguments.length-1,arguments.length<=n?void 0:arguments[n])?-1==(arguments.length<=0?void 0:arguments[0])?t.flat()[s].cmpErrorCount?t.flat()[s].cmpErrorCount++:t.flat()[s].cmpErrorCount=1:(t.flat()[s].cmpErrorCount=arguments.length<=0?void 0:arguments[0],t.flat()[s].cmpRightCount=arguments.length<=1?void 0:arguments[1]):t.flat()[s].runErrCount=arguments.length<=0?void 0:arguments[0];break}this.$store.commit("updateQuestionList",t)},sendReq:function(t,e){""===t&&""===e||(console.log("发送消息",t),this.socket.sendSock(t,e))},getCompileRes:function(t){console.log(t);var e=void 0,s=-1,n=-1;if(this.result.pop(),t.content.result)this.compileFlag=!0,e="编译成功",s=t.content.cmpErrorCount,n=t.content.cmpCount-t.content.cmpErrorCount;else{this.compileFlag=!1;for(var i=0;i<t.content.length;i++)"I"==t.content[i]&&"n"==t.content[i+1]&&(t.content=t.content.slice(0,i-1)+"<br/>"+t.content.slice(i),i+=4);e=t.content}this.result.push({name:"compileRes",content:e}),this.updateNum(s,n,"cmp")},getRunGroupRes:function(t){t.content.result.includes("成功")&&(this.questType=2),this.$store.state.solveTrends.push(this.createsolveTrend(t.content.right_num,t.content.error_num)),this.result.pop(),this.result.push({name:"runGroupRes",content:t.content.output}),this.result.push({name:"num",content:"正确次数: "+t.content.right_num+"&nbsp;&nbsp;错误次数: "+t.content.error_num}),this.updateNum(t.content.runErrCount,"run")},getRunSiginalRes:function(t){this.runSig=!0,this.result.push({name:"runSiginalRes",content:t.content.output})},getStartDebugRes:function(t){console.log("开始调试",t),this.result.pop(),""==t.content.error&&(this.debugFlag=!0),this.result.push({name:"startDebugRes",content:"开启调试 ："+t.content.output}),this.variate=t.content.variate,this.renderVariate=this.renderVar(this.variate),this.lineNum=t.content.lineNum},getStepOverRes:function(t){console.log("下一步",t),t.content.output.includes("Quit")||this.$refs.ace[this.editableTabsValue-1].aceEditor.session.getLength()<t.content.lineNum?this.common("quitDebug"):(this.result.push({name:"nextStep",content:t.content.output}),this.variate=t.content.variate,this.renderVariate=this.renderVar(this.variate),this.lineNum=t.content.lineNum)},getStepIntoRes:function(t){t.content.output.includes("Quit")||this.$refs.ace[this.editableTabsValue-1].aceEditor.session.getLength()<t.content.lineNum?this.common("quitDebug"):(this.variate=t.content.variate,this.renderVariate=this.renderVar(this.variate),this.lineNum=t.content.lineNum)},getQuitDebugRes:function(t){this.renderVariate=[],this.debugFlag=!1,this.result.push({name:"quitDebugRes",content:"终止调试！"})},getContinueDebugRes:function(t){console.log("继续调试",t),this.lineNum=t.content.lineNum,this.variate=t.content.variate,this.renderVariate=this.renderVar(this.variate)},getRepeatDebugRes:function(t){console.log(t)},getQuestionContent:function(t,e,s){if(t!=this.presentQuestion.id){var n=this.$store.state.activeQuestion.find(function(e){return e.id==t});n?this.$store.commit("updatePresQues",n):this.$store.dispatch("sendQuestionContentReq",{id:t,name:e,pid:s})}}},watch:{compileFlag:function(){},debugFlag:function(){this.debugFlag?(this.$refs.dbhl[this.editableTabsValue-1].style.display="block",this.$refs.dbhl[this.editableTabsValue-1].style.height=this.$refs.ace[this.editableTabsValue-1].aceEditor.renderer.lineHeight+"px",this.verFunList=this.verFunList.map(function(t){var e=t;return e.class=e.class.replace("banClick",""),e}),this.horFunList=this.horFunList.map(function(t){return t.class+=" banClick",t}),this.showVerList||this.common("more")):(this.$refs.dbhl[this.editableTabsValue-1].style.display="none",this.verFunList=this.verFunList.map(function(t){return t.class+=" banClick",t}),this.horFunList=this.horFunList.map(function(t){var e=t;return e.class=e.class.replace("banClick",""),e}),this.showVerList&&this.common("more"))},lineNum:function(){this.$refs.dbhl[this.editableTabsValue-1].style.top=this.$refs.ace[this.editableTabsValue-1].aceEditor.renderer.lineHeight*(this.lineNum-1)+"px",this.$refs.ace[this.editableTabsValue-1].aceEditor.container.appendChild(this.$refs.dbhl[this.editableTabsValue-1])},result:function(){var t=this;this.$nextTick(function(){for(var e=t.$el.querySelector(".showResult"),s=e.scrollHeight,n=e.scrollTop,i=0;i<s-n;i++)setTimeout(function(){e.scrollTop++},.8*i)})},presentQuestion:function(){var t=this;this.$store.commit("updatedQuestDesc",this.$store.state.presentQuestion.content.questionContent.questionDescription),this.$store.state.presentQuestion.name&&this.addTab(this.$store.state.presentQuestion.name),setTimeout(function(){t.$refs.ace[t.editableTabsValue-1].aceEditor.setValue(t.$store.state.presentQuestion.content.questionContent.studentAnswer,1)})}},computed:{presentQuestion:function(){return this.$store.state.presentQuestion}},components:{Splitpanes:R.a,ace:D}}),M={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"father"},[s("div",{ref:"questList",staticClass:"question-list"},[s("h3",[t._v(t._s(this.$store.state.continue_tableName))]),t._v(" "),s("el-collapse",t._l(this.$store.state.questionList,function(e,n){return s("el-collapse-item",{key:n,staticClass:"collapse-font",attrs:{title:e[0].chapName}},t._l(e,function(e,n){return s("div",{key:n,staticClass:"question-name",on:{click:function(s){return t.getQuestionContent(e.eid,e.name,e.pid)}}},[s("span",[e.finishTime?s("i",{staticClass:"iconfont icon-yitongguo"}):s("i",{staticClass:"iconfont icon-weikaishi"}),t._v("\n                "+t._s(e.name)+"\n              ")]),t._v(" "),s("span",{staticClass:"quest-situation"},[s("i",{staticClass:"iconfont icon-bianyi",attrs:{title:"编译成功次数"}},[t._v(t._s(e.cmpRightCount))]),t._v(" "),s("i",{staticClass:"iconfont icon-bianyishibai",attrs:{title:"编译失败次数"}},[t._v(t._s(e.cmpErrorCount))]),t._v(" "),s("i",{staticClass:"iconfont icon-chengzuyunxing",attrs:{title:"运行成功次数"}},[t._v(t._s(e.runResult))]),t._v(" "),s("i",{staticClass:"iconfont icon-yunxingshibai",attrs:{title:"运行失败次数"}},[t._v(t._s(e.runErrCount))])])])}),0)}),1),t._v(" "),s("div",{staticClass:"close-btn"},[s("el-button",{on:{click:t.hideQuestList}},[t._v("关闭")])],1)],1),t._v(" "),s("splitpanes",{attrs:{"push-other-panes":!0,"watch-slots":""}},[s("div",{staticClass:"question-content",class:{"questContent-color":t.isQuestListOpen},attrs:{"splitpanes-size":t.pan_1},on:{scroll:t.fixButton}},[s("div",{ref:"topMenu",staticClass:"question-menu-top",class:{"menu-color":t.isQuestListOpen}},[s("el-dropdown",{attrs:{trigger:"click","hide-on-click":!1},on:{command:t.setEditor,"visible-change":t.hidSetMenu}},[s("span",{staticClass:"iconfont icon-zidingyi",attrs:{title:"设置"}}),t._v(" "),s("el-dropdown-menu",{ref:"elDropdown",attrs:{slot:"dropdown"},slot:"dropdown"},[s("el-dropdown-item",{attrs:{command:"主题"}},[s("i",{staticClass:"el-icon-menu"}),t._v("主题"),s("i",{staticClass:"el-icon-arrow-right"})]),t._v(" "),s("el-dropdown-item",{attrs:{command:"字体"}},[s("i",{staticClass:"el-icon-edit"}),t._v("字体"),s("i",{staticClass:"el-icon-arrow-right"})]),t._v(" "),s("el-dropdown-item",{attrs:{command:"帮助"}},[s("i",{staticClass:"el-icon-question"}),t._v("帮助"),s("i",{staticClass:"el-icon-arrow-right"})])],1)],1),t._v(" "),t.showSetMenu?s("ul",{ref:"setMenu",staticClass:"setting-menu"},t._l(t.aceModes,function(e){return s("li",{key:e.name,on:{click:t.setModes}},[t._v(t._s(e.name))])}),0):t._e(),t._v(" "),s("i",{staticClass:"iconfont icon-gerenxinxi",staticStyle:{"margin-left":"20px",cursor:"pointer"},attrs:{title:"个人中心"},on:{click:t.goTo}}),t._v(" "),s("i",{staticClass:"iconfont icon-liebiao",staticStyle:{cursor:"pointer"},on:{click:t.showQuestList}})],1),t._v(" "),s("div",{staticClass:"question-desc"},[s("p",[t._v(t._s(this.$store.state.questionDesc))])]),t._v(" "),s("div",{ref:"bottomMenu",staticClass:"question-menu-bottom",class:{"menu-color":t.isQuestListOpen}},[s("el-button",{staticStyle:{"margin-right":"20px"},attrs:{type:"primary",round:""},on:{click:t.lastQuestion}},[t._v("上一题")]),t._v(" "),s("el-button",{staticStyle:{"margin-right":"20px"},attrs:{type:"primary",round:""},on:{click:t.nextQuestion}},[t._v("下一题")])],1)]),t._v(" "),s("splitpanes",{staticClass:"editor-pane",attrs:{horizontal:"","push-other-panes":!0,"splitpanes-size":t.pan_2,"watch-slots":""},on:{resize:t.modifyDiv}},[s("el-tabs",{staticClass:"code-pane",attrs:{type:"card",closable:"","splitpanes-size":t.pan_2_1},on:{"tab-remove":t.removeTab,"tab-click":t.clickTab},model:{value:t.editableTabsValue,callback:function(e){t.editableTabsValue=e},expression:"editableTabsValue"}},t._l(t.editableTabs,function(e){return s("el-tab-pane",{key:e.name,attrs:{label:e.title,name:e.name}},[s("div",{ref:"dbhl",refInFor:!0,staticClass:"debug-highlighted"}),t._v(" "),s("ace",{ref:"ace",refInFor:!0,on:{createBP:t.createBP},model:{value:t.studentAnswer,callback:function(e){t.studentAnswer=e},expression:"studentAnswer"}}),t._v(" "),s("div",{staticClass:"funMenu",on:{mousedown:function(e){return t.mouseEvent("down")},mouseup:function(e){return t.mouseEvent("up")}}},[s("ul",{staticClass:"horizontal-list"},t._l(t.horFunList,function(e){return s("li",{key:e.name},[s("el-tooltip",{attrs:{content:e.title,placement:"bottom",effect:"light"}},[s("i",{class:e.class,on:{click:function(s){return t.common(e.name)}}})])],1)}),0),t._v(" "),s("transition",{attrs:{name:"verList"}},[t.showVerList?s("transition-group",{staticClass:"vertical-list",attrs:{tag:"ul"}},t._l(t.verFunList,function(e){return s("li",{key:e.name},[s("el-tooltip",{attrs:{content:e.title,placement:"left",effect:"light"}},[s("i",{class:e.class,on:{click:function(s){return t.common(e.name)}}})])],1)}),0):t._e()],1)],1)],1)}),1),t._v(" "),s("div",{staticClass:"show-pane",attrs:{"splitpanes-size":t.pan_2_2}},[s("div",{staticClass:"result-menu"},[s("el-tooltip",{attrs:{content:"清屏",placement:"bottom",effect:"light"}},[s("i",{staticClass:"iconfont icon-qingkong",on:{click:t.clearResult}})])],1),t._v(" "),s("div",{ref:"resShow",staticClass:"showResult",style:{height:t.initHeight}},t._l(t.result,function(e,n){return s("p",{key:n,class:{success:e.content.includes("成功"),fail:e.content.includes("失败"),ing:e.content.includes("正在")},domProps:{innerHTML:t._s(e.content)}})}),0)])],1),t._v(" "),s("div",{staticClass:"debug-pane",attrs:{"splitpanes-size":t.pan_3}},[s("el-tree",{attrs:{data:t.renderVariate,props:t.defaultProps,"default-expand-all":!0}})],1),t._v(" "),s("div",{staticClass:"visual-pane",attrs:{"splitpanes-size":t.pan_4}})],1)],1)},staticRenderFns:[]};var z=s("VU/8")(A,M,!1,function(t){s("pKE1")},null,null).exports,P={created:function(){},data:function(){return{}},methods:{goTo:function(t,e){console.log(e),this.$router.push({name:t,params:{name:e}})}},computed:{user:function(){return JSON.parse(localStorage.getItem("user"))},trends:function(){return this.$store.state.solveTrends}},components:{CalendarHeatmap:s("x3Se").CalendarHeatmap}},O={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-row",{staticClass:"el-card box-card is-always-shadow per-header"},[n("el-col",{staticStyle:{display:"flex","justify-content":"space-between","align-items":"center"},attrs:{span:12,offset:4}},[n("h1",{staticStyle:{color:"#409eff",margin:"0"}},[t._v("Anyview")]),t._v(" "),n("span",{staticStyle:{"font-size":"17px"}},[t._v("社区")]),t._v(" "),n("span",{staticStyle:{"font-size":"17px"},on:{click:function(e){return t.goTo("work")}}},[t._v("课程")])]),t._v(" "),n("el-col",{attrs:{span:6}})],1),t._v(" "),n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:4,offset:4}},[n("el-card",{staticClass:"box-card"},[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("img",{staticStyle:{height:"48px",width:"48px"},attrs:{src:s("BNGd"),alt:"茶客"}}),t._v(" "),n("span",[t._v(t._s(t.user.name))]),t._v(" "),n("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"}},[t._v("退出账号")])],1),t._v(" "),n("p",[t._v("昵称："+t._s(t.user.name))]),t._v(" "),n("p",[t._v("邮箱："+t._s(t.user.email))]),t._v(" "),n("p",[t._v("学号："+t._s(t.user.username))]),t._v(" "),n("p",[t._v("学校：广东工业大学")])])],1),t._v(" "),n("el-col",{attrs:{span:12}},[n("el-tabs",{attrs:{type:"border-card"}},[n("el-tab-pane",{attrs:{label:"做题动态"}},[n("div",{staticClass:"solve-trends"},[n("calendarHeatmap",{staticStyle:{"margin-bottom":"20px"},attrs:{values:[{date:"2018-9-22",count:6}],"end-date":1987,"range-color":["ebedf0","dae2ef","#c0ddf9","#73b3f3","#3886e1","#17459e"]}}),t._v(" "),n("el-timeline",t._l(t.trends,function(e,s){return n("el-timeline-item",{key:s,attrs:{timestamp:e.time,placement:"bottom"}},[n("div",[n("span",[t._v(t._s(t.user.name)+"运行了")]),t._v(" "),n("span",{staticClass:"per-question-name",on:{click:function(s){return t.goTo("Coding",e.name)}}},[t._v(t._s(e.chapName+e.name))]),t._v(" "),n("span",{staticClass:"el-icon-check",staticStyle:{color:"#08bf91"}},[t._v("正确次数："+t._s(e.rightNum))]),t._v(" "),n("span",{staticClass:"el-icon-close",staticStyle:{color:"#dc3545"}},[t._v("错误次数："+t._s(e.errorNum))])]),t._v(" "),0!=e.errorNum?n("el-button",{attrs:{type:"danger",round:"",size:"mini"}},[t._v("未通过")]):n("el-button",{attrs:{type:"success",round:"",size:"mini"}},[t._v("通过")])],1)}),1)],1)]),t._v(" "),n("el-tab-pane",{attrs:{label:"修改信息"}}),t._v(" "),n("el-tab-pane",{attrs:{label:"我的笔记"}}),t._v(" "),n("el-tab-pane",{attrs:{label:"我的消息"}}),t._v(" "),n("el-tab-pane",{attrs:{label:"信息统计"}})],1)],1)],1),t._v(" "),n("el-row",[n("el-col",{attrs:{span:6}}),t._v(" "),n("el-col",{attrs:{span:18}})],1)],1)},staticRenderFns:[]};var H=s("VU/8")(P,O,!1,function(t){s("sQRE")},null,null).exports;i.default.use(l.a);var B=new l.a({mode:"history",routes:[{path:"/login",name:"login",component:y,meta:{requiresAuth:!0}},{path:"/work",name:"work",component:k,meta:{requiresAuth:!0}},{path:"/Coding",name:"Coding",component:z,meta:{requiresAuth:!0}},{path:"/PersonalCenter",name:"personalCenter",component:H},{path:"/",component:y,redirect:"/Login"},{path:"**",redirect:"/Login"}]}),J=null,G=null;function U(t,e){G=e,J.readyState===J.OPEN?function(t){J.send(N()(t))}(t):(J.readyState,J.CONNECTING,setTimeout(function(){U(t,e)},1e3))}function j(t){console.log("connection closed ("+t.code+")")}(J=new WebSocket("ws://101.132.120.137:8889/anyview")).onmessage=function(t){!function(t){G(JSON.parse(t.data))}(t)},J.onclose=function(t){j(t)},J.onopen=function(){console.log("连接成功")},J.onerror=function(){console.log("WebSocket连接发生错误")};s("muQq");var Y=s("NYxO"),W=(s("Ya8g"),{getSchoolListRes:function(t,e){t.schoolList=e.content},getLoginRes:function(t,e){-1==e.type?(t.user=e.content,t.isLogin=!0,window.localStorage.setItem("isLogin",!0),window.localStorage.setItem("user",N()(e.content))):t.isLogin=!1},getQuestionListRes:function(t,e){t.totalNum=e.content[0].totalNum,t.continue_tableName=e.content[0].tableName,t.schemeId=e.content[0].id;var s=e.content[0].catalogs;t.questionList=new Array;var n=new Array,i=s[0];s.forEach(function(e,s){e.name="第"+(s+1)+"题",e.chapName==i.chapName?n.push(e):(t.questionList.push(n),(n=new Array).push(e)),i=e}),t.questionList.push(n),this.dispatch("sendQuestionContentReq",{id:t.questionList[0][0].eid,name:t.questionList[0][0].name,pid:t.questionList[0][0].pid})},getQuestionContentRes:function(t,e){var s={name:t.presName,id:t.presId,content:e.content},n=JSON.parse(N()(s));this.commit("updatePresQues",s),this.commit("updatedActiveQues",{act:n,flag:"add"})},updateAnswer:function(t,e){t.presentQuestion.content.questionContent.studentAnswer=e},updatePresQues:function(t,e){t.presentQuestion=e},updatedActiveQues:function(t,e){var s=e.act;"add"==e.flag?t.activeQuestion.push(s):t.activeQuestion=t.activeQuestion.filter(function(t){return t.id!=s.id})},updatedQuestDesc:function(t,e){t.questionDesc=e},updateQuestionList:function(t,e){t.questionList=e}}),K={sendSchoolListReq:function(){this._vm.socket.sendSock({type:6,content:"获取学校列表"},this._mutations.getSchoolListRes[0])},sendLoginReq:function(t,e){this._vm.socket.sendSock({type:0,content:e},this._mutations.getLoginRes[0])},sendLogoutReq:function(t,e){this._vm.socket.sendSock({type:5,content:e},this._mutations.getLogoutRes[0])},sendQuestionListReq:function(t){var e=JSON.parse(localStorage.getItem("user")).id;this._vm.socket.sendSock({type:3,content:e},this._mutations.getQuestionListRes[0])},sendQuestionContentReq:function(t,e){var s=e.id,n=e.name;e.pid;t.state.presName=n,t.state.presId=s,this._vm.socket.sendSock({type:4,content:s},this._mutations.getQuestionContentRes[0])}};i.default.use(Y.a);var Z=new Y.a.Store({state:{isLogin:!1,user:{},schoolList:[],questionList:[],continue_tableName:"",totalNum:0,questionDesc:"",presentQuestion:{},presName:"",presId:"",activeQuestion:[],solveTrends:[],schemeId:""},mutations:W,actions:K,getters:{getQuestDesc:function(t){}}});i.default.prototype.socket=n,i.default.use(I.a),i.default.use(a.a),i.default.config.productionTip=!1,B.beforeEach(function(t,e,s){t.matched.some(function(t){return t.meta.requiresAuth})&&localStorage.getItem("isLogin")?("/Login"==t.path&&s("/work"),s()):s()});new i.default({el:"#app",router:B,store:Z,components:{App:c},template:"<App/>"})},Qorl:function(t,e){},Z6VL:function(t,e){},ezYk:function(t,e){},jCvb:function(t,e){},muQq:function(t,e){},pKE1:function(t,e){},sQRE:function(t,e){},sSya:function(t,e){},tvR6:function(t,e){},zGnw:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.71a65f6c6aa1631aafcc.js.map